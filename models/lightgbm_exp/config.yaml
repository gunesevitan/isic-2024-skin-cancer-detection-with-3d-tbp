preprocessing:
  categorical_columns: [
    'sex', 'anatom_site_general', 'tbp_tile_type',
    'tbp_lv_location', 'tbp_lv_location_simple',
    'site_location_id'
  ]

training:
  target: 'target'
  features: [
    # Raw categorical features
    'age_approx', 'sex', 'anatom_site_general',

    # Raw continuous features
    'clin_size_long_diam_mm',
    'tbp_lv_H', 'tbp_lv_Hext',
    'tbp_lv_areaMM2', 'tbp_lv_area_perim_ratio', 'tbp_lv_color_std_mean', 'tbp_lv_deltaLBnorm',
    'tbp_lv_eccentricity', 'tbp_lv_location',
    'tbp_lv_minorAxisMM', 'tbp_lv_nevi_confidence', 'tbp_lv_norm_border', 'tbp_lv_norm_color',
    'tbp_lv_perimeterMM', 'tbp_lv_radial_color_std_max', 'tbp_lv_stdL', 'tbp_lv_stdLExt',
    'tbp_lv_symm_2axis', 'tbp_lv_symm_2axis_angle',

    # Column-wise shape interactions
    'lesion_diameter_ratio', 'lesion_diameter_difference',
    'lesion_area_max_diameter_squared_ratio', 'lesion_area_max_diameter_squared_difference',
    'lesion_area_perimeter_squared_ratio', 'lesion_max_diameter_perimeter_ratio',

    # LAB space variable interactions for lesion
    'lesion_ab_ratio', 'lesion_ab_difference',
    'lesion_ac_ratio', 'lesion_ac_difference',
    'lesion_ah_ratio', 'lesion_ah_difference',
    'lesion_al_ratio', 'lesion_al_difference',
    'lesion_bc_ratio', 'lesion_bc_difference',
    'lesion_bh_ratio', 'lesion_bh_difference',
    'lesion_bl_ratio', 'lesion_bl_difference',
    'lesion_ch_ratio', 'lesion_ch_difference',
    'lesion_cl_ratio', 'lesion_cl_difference',
    'lesion_hl_ratio', 'lesion_hl_difference',

    # LAB space variable interactions for outside
    'outside_ab_ratio', 'outside_ab_difference',
    'outside_ac_ratio', 'outside_ac_difference',
    'outside_ah_ratio', 'outside_ah_difference',
    'outside_al_ratio', 'outside_al_difference',
    'outside_bc_ratio', 'outside_bc_difference',
    'outside_bh_ratio', 'outside_bh_difference',
    'outside_bl_ratio', 'outside_bl_difference',
    'outside_ch_ratio', 'outside_ch_difference',
    'outside_cl_ratio', 'outside_cl_difference',
    'outside_hl_ratio', 'outside_hl_difference',

    # LAB space variable interactions interactions for lesion and outside
    'lesion_outside_ab_difference_ratio',
    'lesion_outside_ac_difference_ratio',
    'lesion_outside_ah_difference_ratio',
    'lesion_outside_al_difference_ratio',
    'lesion_outside_bc_difference_ratio',
    'lesion_outside_bh_difference_ratio',
    'lesion_outside_bl_difference_ratio',
    'lesion_outside_ch_difference_ratio',
    'lesion_outside_cl_difference_ratio',
    'lesion_outside_hl_difference_ratio',

    # LAB space variable interactions for lesion and outside
    'a_lesion_outside_ratio', 'a_lesion_outside_difference',
    'b_lesion_outside_ratio', 'b_lesion_outside_difference',
    'c_lesion_outside_ratio', 'c_lesion_outside_difference',
    'l_lesion_outside_ratio', 'l_lesion_outside_difference',
    'h_lesion_outside_ratio', 'h_lesion_outside_difference',

    'lesion_abchl_ratio_mean', 'lesion_abchl_ratio_std', 'lesion_abchl_ratio_min', 'lesion_abchl_ratio_max',

    'delta_abl_mean', 'delta_abl_std', 'delta_abl_min', 'delta_abl_max', 'delta_abl_skew',
    'border_irregularity_mean', 'border_irregularity_std',

    # Patient aggregations
    #'patient_id_count',

    # Patient ranks
    'patient_id_clin_size_long_diam_mm_rank',
    'patient_id_tbp_lv_A_rank', 'patient_id_tbp_lv_Aext_rank',
    'patient_id_tbp_lv_B_rank', 'patient_id_tbp_lv_Bext_rank',
    'patient_id_tbp_lv_C_rank', 'patient_id_tbp_lv_Cext_rank',
    'patient_id_tbp_lv_H_rank', 'patient_id_tbp_lv_Hext_rank',
    'patient_id_tbp_lv_L_rank', 'patient_id_tbp_lv_Lext_rank',
    'patient_id_tbp_lv_areaMM2_rank', 'patient_id_tbp_lv_area_perim_ratio_rank',
    'patient_id_tbp_lv_color_std_mean_rank', 'patient_id_tbp_lv_deltaA_rank',
    'patient_id_tbp_lv_deltaB_rank', 'patient_id_tbp_lv_deltaL_rank',
    'patient_id_tbp_lv_deltaLBnorm_rank', 'patient_id_tbp_lv_eccentricity_rank',
    'patient_id_tbp_lv_minorAxisMM_rank', 'patient_id_tbp_lv_nevi_confidence_rank',
    'patient_id_tbp_lv_norm_border_rank', 'patient_id_tbp_lv_norm_color_rank',
    'patient_id_tbp_lv_perimeterMM_rank', 'patient_id_tbp_lv_radial_color_std_max_rank',
    'patient_id_tbp_lv_stdL_rank', 'patient_id_tbp_lv_stdLExt_rank',
    'patient_id_tbp_lv_symm_2axis_rank', 'patient_id_tbp_lv_symm_2axis_angle_rank',


  ]
  categorical_features: []
  folds: [1, 2, 3, 4, 5]
  seeds: [42, 0, 1337, 1962022, 721991]

model_parameters:
  num_leaves: 128
  learning_rate: 0.01
  bagging_fraction: 0.7
  bagging_freq: 1
  feature_fraction: 0.9
  feature_fraction_bynode: 0.9
  min_data_in_leaf: 100
  min_gain_to_split: 0.
  lambda_l1: 0.
  lambda_l2: 0.
  max_bin: 255
  max_depth: -1
  boost_from_average: True
  objective: 'binary'
  scale_pos_weight: 1
  metric: 'binary_logloss'
  seed: null
  feature_fraction_seed: null
  bagging_seed: null
  drop_seed: null
  data_random_seed: null
  boosting_type: 'gbdt'
  verbose: 1
  n_jobs: 16

fit_parameters:
  boosting_rounds: 450
  log_evaluation: 100